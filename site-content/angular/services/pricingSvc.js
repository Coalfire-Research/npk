angular
	.module('app')
	.service('pricingSvc', [function() {
		return {
			hashTypes: {"MD5":0,"md5($pass.$salt)":10,"md5($salt.$pass)":20,"md5(utf16le($pass).$salt)":30,"md5($salt.utf16le($pass))":40,"HMAC-MD5 (key = $pass)":50,"HMAC-MD5 (key = $salt)":60,"SHA1":100,"sha1($pass.$salt)":110,"sha1($salt.$pass)":120,"sha1(utf16le($pass).$salt)":130,"sha1($salt.utf16le($pass))":140,"HMAC-SHA1 (key = $pass)":150,"HMAC-SHA1 (key = $salt)":160,"MySQL323":200,"MySQL4.1/MySQL5":300,"phpass, WordPress (MD5),":400,"phpass, phpBB3 (MD5)":400,"md5crypt, MD5 (Unix), Cisco-IOS $1$ (MD5)":500,"Juniper IVE":501,"BLAKE2b-512":600,"MD4":900,"NTLM":1000,"Domain Cached Credentials (DCC), MS Cache":1100,"SHA-224":1300,"SHA-256":1400,"sha256($pass.$salt)":1410,"sha256($salt.$pass)":1420,"sha256(utf16le($pass).$salt)":1430,"sha256($salt.utf16le($pass))":1440,"HMAC-SHA256 (key = $pass)":1450,"HMAC-SHA256 (key = $salt)":1460,"descrypt, DES (Unix), Traditional DES":1500,"Apache $apr1$ MD5, md5apr1, MD5 (APR)":1600,"SHA-512":1700,"sha512($pass.$salt)":1710,"sha512($salt.$pass)":1720,"sha512(utf16le($pass).$salt)":1730,"sha512($salt.utf16le($pass))":1740,"HMAC-SHA512 (key = $pass)":1750,"HMAC-SHA512 (key = $salt)":1760,"sha512crypt $6$, SHA512 (Unix)":1800,"STDOUT":2000,"Domain Cached Credentials 2 (DCC2), MS Cache 2":2100,"Cisco-PIX MD5":2400,"Cisco-ASA MD5":2410,"WPA/WPA2":2500,"WPA/WPA2 PMK":2501,"md5(md5($pass))":2600,"LM":3000,"Oracle H: Type (Oracle 7+), DES(Oracle)":3100,"bcrypt $2*$, Blowfish (Unix)":3200,"md5($salt.md5($pass))":3710,"md5($salt.$pass.$salt)":3800,"md5(md5($pass).md5($salt))":3910,"md5($salt.md5($salt.$pass))":4010,"md5($salt.md5($pass.$salt))":4110,"md5(strtoupper(md5($pass)))":4300,"md5(sha1($pass))":4400,"sha1(sha1($pass))":4500,"sha1($salt.sha1($pass))":4520,"sha1(md5($pass))":4700,"sha1(md5($pass).$salt)":4710,"iSCSI CHAP authentication, MD5(CHAP)":4800,"sha1($salt.$pass.$salt)":4900,"Half MD5":5100,"Password Safe v3":5200,"IKE-PSK MD5":5300,"IKE-PSK SHA1":5400,"NetNTLMv1 / NetNTLMv1+ESS":5500,"NetNTLMv2":5600,"Cisco-IOS type 4 (SHA256)":5700,"Samsung Android Password/PIN":5800,"RIPEMD-160":6000,"Whirlpool":6100,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + AES":6211,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + Serpent":6211,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + Twofish":6211,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + AES-Twofish":6212,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + AES-Twofish-Serpent":6213,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + Serpent-AES":6212,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + Serpent-Twofish-AES":6213,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + Twofish-Serpent":6212,"TrueCrypt 5.0+ SHA512 + AES":6221,"TrueCrypt 5.0+ SHA512 + Serpent":6221,"TrueCrypt 5.0+ SHA512 + Twofish":6221,"TrueCrypt 5.0+ SHA512 + AES-Twofish":6222,"TrueCrypt 5.0+ SHA512 + AES-Twofish-Serpent":6223,"TrueCrypt 5.0+ SHA512 + Serpent-AES":6222,"TrueCrypt 5.0+ SHA512 + Serpent-Twofish-AES":6223,"TrueCrypt 5.0+ SHA512 + Twofish-Serpent":6222,"TrueCrypt 5.0+ Whirlpool + AES":6231,"TrueCrypt 5.0+ Whirlpool + Serpent":6231,"TrueCrypt 5.0+ Whirlpool + Twofish":6231,"TrueCrypt 5.0+ Whirlpool + AES-Twofish":6232,"TrueCrypt 5.0+ Whirlpool + AES-Twofish-Serpent":6233,"TrueCrypt 5.0+ Whirlpool + Serpent-AES":6232,"TrueCrypt 5.0+ Whirlpool + Serpent-Twofish-AES":6233,"TrueCrypt 5.0+ Whirlpool + Twofish-Serpent":6232,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + AES + boot":6241,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + Serpent + boot":6241,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + Twofish + boot":6241,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + AES-Twofish + boot":6242,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + AES-Twofish-Serpent + boot":6243,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + Serpent-AES + boot":6242,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + Serpent-Twofish-AES + boot":6243,"TrueCrypt 5.0+ PBKDF2-HMAC-RIPEMD160 + Twofish-Serpent + boot":6242,"AIX {smd5}":6300,"AIX {ssha256}":6400,"AIX {ssha512}":6500,"1Password, agilekeychain":6600,"AIX {ssha1}":6700,"LastPass + LastPass sniffed":6800,"GOST R 34.11-94":6900,"FortiGate (FortiOS)":7000,"OSX v10.8+ (PBKDF2-SHA512)":7100,"GRUB 2":7200,"IPMI2 RAKP HMAC-SHA1":7300,"sha256crypt $5$, SHA256 (Unix)":7400,"Kerberos 5 AS-REQ Pre-Auth etype 23":7500,"SAP CODVN B (BCODE)":7700,"SAP CODVN B (BCODE) mangled from":7701,"SAP CODVN F/G (PASSCODE)":7800,"SAP CODVN F/G (PASSCODE) mangled from":7801,"Drupal7":7900,"Sybase ASE":8000,"Citrix NetScaler":8100,"1Password, cloudkeychain":8200,"DNSSEC (NSEC3)":8300,"WBB3 (Woltlab Burning Board)":8400,"RACF":8500,"Lotus Notes/Domino 5":8600,"Lotus Notes/Domino 6":8700,"Android FDE <= 4.3":8800,"scrypt":8900,"Password Safe v2":9000,"Lotus Notes/Domino 8":9100,"Cisco-IOS $8$ (PBKDF2-SHA256)":9200,"Cisco-IOS $9$ (scrypt)":9300,"MS Office 2007":9400,"MS Office 2010":9500,"MS Office 2013":9600,"MS Office ⇐ 2003 MD5 + RC4, oldoffice$0, oldoffice$1":9700,"MS Office ⇐ 2003 $0/$1, MD5 + RC4, collider #1":9710,"MS Office ⇐ 2003 $0/$1, MD5 + RC4, collider #2":9720,"MS Office ⇐ 2003 SHA1 + RC4, oldoffice$3, oldoffice$4":9800,"MS Office ⇐ 2003 $3, SHA1 + RC4, collider #1":9810,"MS Office ⇐ 2003 $3, SHA1 + RC4, collider #2":9820,"Radmin2":9900,"Django (PBKDF2-SHA256)":10000,"SipHash":10100,"CRAM-MD5":10200,"SAP CODVN H (PWDSALTEDHASH) iSSHA-1":10300,"PDF 1.1 - 1.3 (Acrobat 2 - 4)":10400,"PDF 1.1 - 1.3 (Acrobat 2 - 4), collider #1":10410,"PDF 1.1 - 1.3 (Acrobat 2 - 4), collider #2":10420,"PDF 1.4 - 1.6 (Acrobat 5 - 8)":10500,"PDF 1.7 Level 3 (Acrobat 9)":10600,"PDF 1.7 Level 8 (Acrobat 10 - 11)":10700,"SHA-384":10800,"PBKDF2-HMAC-SHA256":10900,"PrestaShop":11000,"PostgreSQL CRAM (MD5)":11100,"MySQL CRAM (SHA1)":11200,"Bitcoin/Litecoin wallet.dat":11300,"SIP digest authentication (MD5)":11400,"CRC32":11500,"7-Zip":11600,"GOST R 34.11-2012 (Streebog) 256-bit":11700,"HMAC-Streebog-256 (key = $pass), big-endian":11750,"HMAC-Streebog-256 (key = $salt), big-endian":11760,"GOST R 34.11-2012 (Streebog) 512-bit":11800,"HMAC-Streebog-512 (key = $pass), big-endian":11850,"HMAC-Streebog-512 (key = $salt), big-endian":11860,"PBKDF2-HMAC-MD5":11900,"PBKDF2-HMAC-SHA1":12000,"PBKDF2-HMAC-SHA512":12100,"eCryptfs":12200,"Oracle T: Type (Oracle 12+)":12300,"BSDiCrypt, Extended DES":12400,"RAR3-hp":12500,"ColdFusion 10+":12600,"Blockchain, My Wallet":12700,"MS-AzureSync PBKDF2-HMAC-SHA256":12800,"Android FDE (Samsung DEK)":12900,"RAR5":13000,"Kerberos 5 TGS-REP etype 23":13100,"AxCrypt":13200,"AxCrypt in-memory SHA1":13300,"KeePass 1 AES / without keyfile":13400,"KeePass 2 AES / without keyfile":13400,"KeePass 1 Twofish / with keyfile":13400,"Keepass 2 AES / with keyfile":13400,"PeopleSoft PS_TOKEN":13500,"WinZip":13600,"VeraCrypt PBKDF2-HMAC-RIPEMD160 + AES":13711,"VeraCrypt PBKDF2-HMAC-RIPEMD160 + AES-Twofish":13712,"VeraCrypt PBKDF2-HMAC-RIPEMD160 + Serpent":13711,"VeraCrypt PBKDF2-HMAC-RIPEMD160 + Serpent-AES":13712,"VeraCrypt PBKDF2-HMAC-RIPEMD160 + Serpent-Twofish-AES":13713,"VeraCrypt PBKDF2-HMAC-RIPEMD160 + Twofish":13711,"VeraCrypt PBKDF2-HMAC-RIPEMD160 + Twofish-Serpent":13712,"VeraCrypt PBKDF2-HMAC-SHA256 + AES":13751,"VeraCrypt PBKDF2-HMAC-SHA256 + AES-Twofish":13752,"VeraCrypt PBKDF2-HMAC-SHA256 + Serpent":13751,"VeraCrypt PBKDF2-HMAC-SHA256 + Serpent-AES":13752,"VeraCrypt PBKDF2-HMAC-SHA256 + Serpent-Twofish-AES":13753,"VeraCrypt PBKDF2-HMAC-SHA256 + Twofish":13751,"VeraCrypt PBKDF2-HMAC-SHA256 + Twofish-Serpent":13752,"VeraCrypt PBKDF2-HMAC-SHA512 + AES":13721,"VeraCrypt PBKDF2-HMAC-SHA512 + AES-Twofish":13722,"VeraCrypt PBKDF2-HMAC-SHA512 + Serpent":13721,"VeraCrypt PBKDF2-HMAC-SHA512 + Serpent-AES":13722,"VeraCrypt PBKDF2-HMAC-SHA512 + Serpent-Twofish-AES":13723,"VeraCrypt PBKDF2-HMAC-SHA512 + Twofish":13721,"VeraCrypt PBKDF2-HMAC-SHA512 + Twofish-Serpent":13722,"VeraCrypt PBKDF2-HMAC-Whirlpool + AES":13731,"VeraCrypt PBKDF2-HMAC-Whirlpool + AES-Twofish":13732,"VeraCrypt PBKDF2-HMAC-Whirlpool + Serpent":13731,"VeraCrypt PBKDF2-HMAC-Whirlpool + Serpent-AES":13732,"VeraCrypt PBKDF2-HMAC-Whirlpool + Serpent-Twofish-AES":13733,"VeraCrypt PBKDF2-HMAC-Whirlpool + Twofish":13731,"VeraCrypt PBKDF2-HMAC-Whirlpool + Twofish-Serpent":13732,"VeraCrypt PBKDF2-HMAC-RIPEMD160 + boot-mode + AES":13741,"VeraCrypt PBKDF2-HMAC-RIPEMD160 + boot-mode + AES-Twofish":13742,"VeraCrypt PBKDF2-HMAC-RIPEMD160 + boot-mode + AES-Twofish-Serpent":13743,"VeraCrypt PBKDF2-HMAC-SHA256 + boot-mode + Twofish":13761,"VeraCrypt PBKDF2-HMAC-SHA256 + boot-mode + Serpent-AES":13762,"VeraCrypt PBKDF2-HMAC-SHA256 + boot-mode + Serpent-Twofish-AES":13763,"VeraCrypt PBKDF2-HMAC-SHA256 + boot-mode + PIM + AES":13761,"VeraCrypt Streebog-512 + XTS 512 bit":13771,"VeraCrypt Streebog-512 + XTS 1024 bit":13772,"VeraCrypt Streebog-512 + XTS 1536 bit":13773,"Windows Phone 8+ PIN/password":13800,"OpenCart":13900,"DES (PT = $salt, key = $pass)":14000,"3DES (PT = $salt, key = $pass)":14100,"sha1(CX)":14400,"LUKS":14600,"iTunes backup < 10.0":14700,"iTunes backup >= 10.0":14800,"Skip32 (PT = $salt, key = $pass)":14900,"FileZilla Server >= 0.9.55":15000,"Juniper/NetBSD sha1crypt":15100,"Blockchain, My Wallet, V2":15200,"DPAPI master key file version 1 + local context":15300,"ChaCha20":15400,"JKS Java Key Store Private Keys (SHA1)":15500,"Ethereum Wallet, PBKDF2-HMAC-SHA256":15600,"Ethereum Wallet, SCRYPT":15700,"DPAPI master key file version 2 + Active Directory domain context":15900,"Tripcode":16000,"TACACS+":16100,"Apple Secure Notes":16200,"Ethereum Pre-Sale Wallet, PBKDF2-HMAC-SHA256":16300,"CRAM-MD5 Dovecot":16400,"JWT (JSON Web Token)":16500,"Electrum Wallet (Salt-Type 1-3)":16600,"FileVault 2":16700,"WPA-PMKID-PBKDF2":16800,"WPA-PMKID-PMK":16801,"Ansible Vault":16900,"PKZIP (Compressed)":17200,"PKZIP (Uncompressed)":17210,"PKZIP (Compressed Multi-File)":17220,"PKZIP (Mixed Multi-File)":17225,"PKZIP (Compressed Multi-File Checksum-Only)":17230,"SHA3-224":17300,"SHA3-256":17400,"SHA3-384":17500,"SHA3-512":17600,"Keccak-224":17700,"Keccak-256":17800,"Keccak-384":17900,"Keccak-512":18000,"TOTP (HMAC-SHA1)":18100,"Kerberos 5 AS-REP etype 23":18200,"Apple File System (APFS)":18300,"Open Document Format (ODF) 1.2 (SHA-256, AES)":18400,"sha1(md5(md5($pass)))":18500,"Open Document Format (ODF) 1.1 (SHA-1, Blowfish)":18600,"Java Object hashCode()":18700,"Blockchain, My Wallet, Second Password (SHA256)":18800,"Android Backup":18900,"QNX /etc/shadow (MD5)":19000,"QNX /etc/shadow (SHA256)":19100,"QNX /etc/shadow (SHA512)":19200,"sha1($salt1.$pass.$salt2)":19300,"Ruby on Rails Restful-Authentication":19500,"Kerberos 5 TGS-REP etype 17 (AES128-CTS-HMAC-SHA1-96)":19600,"Kerberos 5 TGS-REP etype 18 (AES256-CTS-HMAC-SHA1-96)":19700,"Kerberos 5, etype 17, Pre-Auth":19800,"Kerberos 5, etype 18, Pre-Auth":19900,"DiskCryptor SHA512 + XTS 512 bit (AES)":20011,"DiskCryptor SHA512 + XTS 512 bit (Twofish)":20011,"DiskCryptor SHA512 + XTS 512 bit (Serpent)":20011,"DiskCryptor SHA512 + XTS 1024 bit (AES-Twofish)":20012,"DiskCryptor SHA512 + XTS 1024 bit (Twofish-Serpent)":20012,"DiskCryptor SHA512 + XTS 1024 bit (Serpent-AES)":20012,"DiskCryptor SHA512 + XTS 1536 bit (AES-Twofish-Serpent)":20013,"Python passlib pbkdf2-sha512":20200,"Python passlib pbkdf2-sha256":20300,"Python passlib pbkdf2-sha1":20400,"PKZIP Master Key":20500,"PKZIP Master Key (6 byte optimization)":20510,"Oracle Transportation Management (SHA256)":20600,"sha256(sha256($pass).$salt)":20710,"sha256(md5($pass))":20800,"md5(sha1($pass).md5($pass).sha1($pass))":20900,"BitShares v0.x - sha512(sha512_bin(pass))":21000,"sha1(md5($pass.$salt))":21100,"md5(sha1($salt).md5($pass))":21200,"md5($salt.sha1($salt.$pass))":21300,"sha256(sha256_bin(pass))":21400,"SolarWinds Orion":21500,"Web2py pbkdf2-sha512":21600,"Electrum Wallet (Salt-Type 4)":21700,"Electrum Wallet (Salt-Type 5)":21800,"WPA-PBKDF2-PMKID+EAPOL":22000,"WPA-PMK-PMKID+EAPOL":22001,"BitLocker":22100,"Citrix NetScaler (SHA512)":22200,"sha256($salt.$pass.$salt)":22300,"AES Crypt (SHA256)":22400,"MultiBit Classic .key (MD5)":22500,"Telegram Desktop App Passcode (PBKDF2-HMAC-SHA1)":22600,"MultiBit HD (scrypt)":22700,"RSA/DSA/EC/OpenSSH Private Keys ($0$)":22911,"RSA/DSA/EC/OpenSSH Private Keys ($6$)":22921,"RSA/DSA/EC/OpenSSH Private Keys ($1, $3$)":22931,"RSA/DSA/EC/OpenSSH Private Keys ($4$)":22941,"RSA/DSA/EC/OpenSSH Private Keys ($5$)":22951,"SecureZIP AES-128":23001,"SecureZIP AES-192":23002,"SecureZIP AES-256":23003,"Apple Keychain":23100,"XMPP SCRAM PBKDF2-SHA1":23200,"Apple iWork":23300,"Bitwarden":23400,"AxCrypt 2 AES-128":23500,"AxCrypt 2 AES-256":23600,"RAR3-p (Uncompressed)":23700,"RAR3-p (Compressed)":23800,"Plaintext":99999},
			p2: {"0":4539500000,"10":4518500000,"11":4253000000,"12":4247399999.9999995,"20":2942400000,"21":2930200000,"22":2918700000,"23":2938100000,"30":4405300000,"40":2900800000,"50":776300000,"60":1589600000,"100":1933100000,"101":1930100000,"110":1722600000,"111":1930700000,"112":1721200000,"120":1398200000,"121":1401000000,"122":1399400000,"124":1398800000,"125":1399400000,"130":1722100000,"131":1723200000,"132":1721200000,"133":1936100000,"140":1400500000,"141":1401500000,"150":361400000,"160":736300000,"200":15125100000,"300":788800000,"400":1477800,"500":2627800,"501":2582600,"600":620400000,"900":7241800000,"1000":7246200000,"1100":2223600000,"1300":777100000,"1400":789800000,"1410":784000000,"1411":788300000,"1420":724600000,"1421":723400000,"1430":783800000,"1440":724400000,"1441":724300000,"1450":136500000,"1460":317900000,"1500":155000000,"1600":2608700,"1700":249700000,"1710":250800000,"1711":250200000,"1720":239700000,"1722":239800000,"1730":250100000,"1731":250400000,"1740":239500000,"1750":49501300,"1760":105800000,"1800":34410,"2000":3491100000000,"2100":70474,"2400":3499800000,"2410":3239300000,"2500":86422,"2501":95703100,"2600":1318100000,"2611":1315200000,"2612":1315100000,"2711":920100000,"2811":972700000,"3000":3793800000,"3100":129199999.99999999,"3200":2569,"3710":1336600000,"3711":1300800000,"3800":2945500000,"3910":962800000,"4010":1263500000,"4110":1312800000,"4300":1426000000,"4400":941400000,"4500":697800000,"4520":418600000,"4521":418100000,"4522":631300000,"4700":974800000,"4710":888400000,"4711":888600000,"4800":3176600000,"4900":1400800000,"5100":3221800000,"5200":315100,"5300":178600000,"5400":80414700,"5500":4653300000,"5600":318900000,"5700":791100000,"5800":1256200,"6000":1169600000,"6100":119300000,"6211":69324,"6212":36546,"6213":25422,"6221":100600,"6222":45571,"6223":32476,"6231":13733,"6232":6734,"6233":4489,"6241":132900,"6242":68831,"6243":47367,"6300":2599600,"6400":4253700,"6500":1495900,"6600":725200,"6700":10739300,"6800":632500,"6900":72992000,"7000":1620500000,"7100":102600,"7200":102800,"7300":215100000,"7400":66154,"7401":62652,"7500":48393200,"7700":546600000,"7701":564200000,"7800":216700000,"7801":215400000,"7900":12598,"8000":86947200,"8100":1541100000,"8200":2609,"8300":658000000,"8400":272000000,"8500":668500000,"8600":64945700,"8700":12682900,"8800":177400,"8900":168400,"9000":54726,"9100":145700,"9200":14456,"9300":6303,"9400":29800,"9500":14892,"9600":2335,"9700":43137800,"9710":57677900,"9720":422200000,"9800":56979600,"9810":61798700,"9820":717900000,"9900":1702400000,"10000":28756,"10100":8564799999.999999,"10200":775500000,"10300":1165000,"10400":61378700,"10410":68319900,"10420":1540600000,"10500":2948900,"10600":789100000,"10700":14560,"10800":246400000,"10900":287300,"10901":35180,"11000":1821400000,"11100":1417400000,"11200":492300000,"11300":1188,"11400":610900000,"11500":2020500000,"11600":91675,"11700":19896700,"11750":5779400,"11760":7296400,"11800":19880400,"11850":4723700,"11860":6277000,"11900":1512300,"12000":719300,"12001":72544,"12100":103800,"12200":3629,"12300":25504,"12400":831500,"12500":10961,"12600":440400000,"12700":15318800,"12800":2881800,"12900":78068,"13000":9763,"13100":48421700,"13200":35780,"13300":1653200000,"13400":10896,"13500":1293800000,"13600":701900,"13711":216,"13712":122,"13713":83,"13721":205,"13722":97,"13723":64,"13731":29,"13732":12,"13733":8,"13741":432,"13742":244,"13743":163,"13751":298,"13752":150,"13753":98,"13761":744,"13762":376,"13763":245,"13771":10,"13772":5,"13773":3,"13800":183600000,"13900":425000000,"14000":3761100000,"14100":679900000,"14400":68880300,"14600":2089,"14700":35428,"14800":29,"14900":2332500000,"15000":222000000,"15100":36590,"15200":70033,"15300":14678,"15400":1100400000,"15500":1675500000,"15600":310500,"15700":0,"15900":8110,"16000":67804600,"16100":2962300000,"16200":15934,"16300":157600,"16400":4449100000,"16500":132400000,"16600":119700000,"16700":15915,"16800":86574,"16801":97018500,"16900":31919,"17200":637100000,"17210":341500000,"17220":1654200000,"17225":1881100000,"17230":2071300000.0000002,"17300":212100000,"17400":201600000,"17500":193600000,"17600":206800000,"17700":215100000,"17800":213700000,"17900":204900000,"18000":195100000,"18100":332000000,"18200":47935300,"18300":15923,"18400":3563,"18500":603400000,"18600":87814,"18700":46086300000,"18800":64508,"18900":35431,"19000":8762500,"19100":3534400,"19200":2102500,"19300":199100000,"19500":13820900,"19600":177500,"19700":85904,"19800":176200,"19900":86546,"20011":98787,"20012":45529,"20013":32512,"20200":4163,"20300":10007,"20400":5527,"20500":24583700000,"20510":4723300000,"20600":646900,"20710":141000000,"20711":141000000,"20800":587400000,"20900":533700000.00000006,"21000":102000000,"21100":973900000,"21200":1039099999.9999999,"21300":611500000,"21400":350500000,"21500":12360,"21600":103600,"21700":70285,"21800":71107,"22000":86123,"22001":84163200,"22100":330,"22200":240900000,"22300":706500000,"22301":706500000,"22400":66799,"22500":162500000,"22600":24887,"22700":22,"23001":186100000,"23002":118800000,"23003":103400000,"23100":346000,"23200":174300,"99999":7558600000},
			p3: {"0":55719700000,"10":55734900000,"11":54032400000,"12":54005000000,"20":29004200000,"21":28881200000,"22":28376600000,"23":28802100000,"30":55249300000,"40":28682100000,"50":8873800000,"60":19239200000,"100":17128800000,"101":17144800000,"110":17417500000,"111":17146900000.000002,"112":17415400000,"120":13227800000,"121":13228500000,"122":13223700000,"124":13223700000,"125":13225400000,"130":17415300000,"131":17415600000,"132":17416600000,"133":17144800000,"140":13221400000,"141":13216700000,"150":3423800000,"160":7240200000,"200":159500000000,"300":7384100000,"400":15173300,"500":25314400,"501":25307300,"600":4467400000,"900":82420300000,"1000":82509300000,"1100":23261900000,"1300":7424800000,"1400":7638500000,"1410":7653900000,"1411":7639200000,"1420":6761100000,"1421":6764300000,"1430":7656600000,"1440":6766000000,"1441":6765200000,"1450":1317200000,"1460":3125100000,"1500":1657900000,"1600":25296300,"1700":2391000000,"1710":2414000000,"1711":2393500000,"1720":2282100000,"1722":2283900000,"1730":2392900000,"1731":2393200000,"1740":2282700000,"1750":484600000,"1760":1023400000,"1800":386500,"2000":14528400000000,"2100":693200,"2400":40039800000,"2410":40782700000,"2500":850300,"2501":245900000,"2600":16062500000,"2611":16069000000,"2612":16070700000,"2711":11386200000,"2811":12348700000,"3000":39925100000,"3100":1189200000,"3200":80265,"3710":14891200000,"3711":14924100000,"3800":29926300000,"3910":11404100000,"4010":13236800000,"4110":14108300000,"4300":16071000000,"4400":9442700000,"4500":6668000000,"4520":4004700000,"4521":3997100000,"4522":6070500000,"4700":9673200000,"4710":9109700000,"4711":9110000000,"4800":37461900000,"4900":13030700000,"5100":35054400000,"5200":3055700,"5300":1950500000,"5400":790300000,"5500":45133800000,"5600":3722800000,"5700":7640700000,"5800":12102500,"6000":10268300000,"6100":1058400000.0000001,"6211":581900,"6212":354000,"6213":245200,"6221":908200,"6222":497500,"6223":329200,"6231":125400,"6232":63626,"6233":41194,"6241":1080600,"6242":566100,"6243":491200,"6300":25281000,"6400":40481300,"6500":14699100,"6600":6930300,"6700":89751600,"6800":6051100,"6900":779000000,"7000":15121500000,"7100":992500,"7200":992200,"7300":2136800000.0000002,"7400":654500,"7401":621800,"7500":999200000,"7700":3835700000,"7701":4006000000,"7800":2334400000,"7801":2338800000,"7900":130600,"8000":925500000,"8100":14727300000,"8200":25564,"8300":6334500000,"8400":2676900000,"8500":6026100000,"8600":721100000,"8700":237100000,"8800":1731700,"8900":1045000,"9000":1670700,"9100":1397000,"9200":145500,"9300":54371,"9400":285200,"9500":142600,"9600":22684,"9700":856100000,"9710":1223000000,"9720":4556700000,"9800":989800000,"9810":1295500000,"9820":7037600000,"9900":19774200000,"10000":291000,"10100":60967900000,"10200":8871200000,"10300":11619300,"10400":1293300000,"10410":1431200000,"10420":17111200000,"10500":61898000,"10600":7637800000,"10700":109000,"10800":2348000000,"10900":2846800,"10901":355200,"11000":21229200000,"11100":15740700000,"11200":4442400000,"11300":11158,"11400":7433500000,"11500":13800000000,"11600":746000,"11700":162500000,"11750":54100900,"11760":67235900,"11800":162400000,"11850":45288800,"11860":61035700,"11900":17388300,"12000":6872000,"12001":701900,"12100":1014100,"12200":34128,"12300":249000,"12400":6783700,"12500":102200,"12600":4209700000,"12700":103800000,"12800":27217200,"12900":752100,"13000":94055,"13100":977100000,"13200":367000,"13300":15954600000,"13400":111700,"13500":12321100000,"13600":6773100,"13711":1888,"13712":1073,"13713":741,"13721":2028,"13722":987,"13723":647,"13731":261,"13732":127,"13733":84,"13741":3769,"13742":2145,"13743":1484,"13751":2984,"13752":1461,"13753":961,"13761":7452,"13762":3652,"13763":2406,"13771":98,"13772":48,"13773":33,"13800":1726000000,"13900":4199600000.0000005,"14000":39894700000,"14100":6064500000,"14400":759100000,"14600":21460,"14700":348000,"14800":291,"14900":15557600000,"15000":2181900000,"15100":352300,"15200":702500,"15300":146900,"15400":7999700000,"15500":16452099999.999998,"15600":2949300,"15700":1,"15900":78965,"16000":555400000,"16100":30170700000,"16200":154700,"16300":1522000,"16400":55606900000,"16500":1350100000,"16600":1237800000,"16700":154700,"16800":850000,"16801":480900000,"16900":308500,"17200":5646300000,"17210":3514800000,"17220":13545200000,"17225":17398700000,"17230":21514700000,"17300":1715000000,"17400":1714700000,"17500":1714400000,"17600":1706600000,"17700":1715100000,"17800":1714600000,"17900":1714400000,"18000":1706600000,"18100":3285600000,"18200":979100000,"18300":154700,"18400":34828,"18500":6646400000,"18600":1954200,"18700":491700000000,"18800":629300,"18900":348300,"19000":65332800,"19100":29613400,"19200":15741200,"19300":2090400000,"19500":221100000,"19600":1708600,"19700":846100,"19800":1709900,"19900":848800,"20011":910300,"20012":495900,"20013":327600,"20200":40896,"20300":100400,"20400":53598,"20500":177600000000,"20510":43169800000,"20600":6237400,"20710":2038600000,"20711":2039800000,"20800":5829100000,"20900":5466100000,"21000":1102100000,"21100":9667600000,"21200":12195600000,"21300":6593200000,"21400":3374100000,"21500":114700,"21600":1013700,"21700":602700,"21800":602000,"22000":850000,"22001":480000000,"22100":3388,"22200":2380900000,"22300":6649800000,"22301":6666500000,"22400":710600,"22500":1699200000,"22600":247700,"22700":162,"23001":1839800000,"23002":1311700000,"23003":1238700000,"23100":3478700,"23200":1707100,"99999":78386100000},
			g3: {"0":11819200000,"10":12022100000,"11":11801100000,"12":11821100000,"20":6426000000,"21":6491600000,"22":6276200000,"23":6412200000,"30":11974100000,"40":6353100000,"50":1902900000,"60":3869700000,"100":4142300000,"101":4154500000,"110":4205100000.0000005,"111":4140399999.9999995,"112":4190800000,"120":3331300000,"121":3331700000,"122":3324900000,"124":3324700000,"125":3324500000,"130":4196000000,"131":4194300000,"132":4193800000,"133":4138000000,"140":3324100000,"141":3324500000,"150":881200000,"160":1746400000,"200":23231700000,"300":1848100000,"400":3383400,"500":5014500,"501":5018300,"600":1088900000,"900":19737600000,"1000":20393800000,"1100":5958600000,"1300":1444900000,"1400":1480200000,"1410":1496300000,"1411":1479800000,"1420":1288800000,"1421":1287900000,"1430":1495300000,"1440":1288300000,"1441":1287700000,"1450":264000000,"1460":621200000,"1500":442300000,"1600":5012800,"1700":509700000,"1710":498900000,"1711":502600000,"1720":475600000,"1722":480700000,"1730":499900000,"1731":500500000,"1740":479400000,"1750":97421400,"1760":217000000,"1800":79807,"2000":4741100000000,"2100":170100,"2400":8697600000,"2410":8925000000,"2500":227100,"2501":92702700,"2600":3405100000,"2611":3405500000,"2612":3404900000,"2711":2373800000,"2811":2507700000,"3000":10838900000,"3100":224900000,"3200":11136,"3710":3189900000,"3711":3199800000,"3800":6597900000,"3910":2382100000,"4010":2902700000,"4110":3108800000,"4300":3404700000,"4400":2205800000,"4500":1636000000,"4520":1046700000,"4521":1047099999.9999999,"4522":1564800000,"4700":2265800000,"4710":2162600000,"4711":2163100000,"4800":8382900000,"4900":3295400000,"5100":7155900000,"5200":584400,"5300":409600000,"5400":161600000,"5500":11559600000,"5600":866000000,"5700":1479700000,"5800":3031900,"6000":2421700000,"6100":157200000,"6211":137000,"6212":81678,"6213":56472,"6221":206700,"6222":108700,"6223":72468,"6231":19861,"6232":9942,"6233":6680,"6241":260399.99999999997,"6242":164000,"6243":112900,"6300":5024200,"6400":6187000,"6500":2963700,"6600":1709200,"6700":20708800,"6800":1150300,"6900":121800000,"7000":3744200000,"7100":215200,"7200":215200,"7300":548500000,"7400":132700,"7401":125500,"7500":147700000,"7700":1043700000,"7701":1081300000,"7800":433900000,"7801":433700000,"7900":26073,"8000":194000000,"8100":3669400000,"8200":5548,"8300":1601000000,"8400":675600000,"8500":1239400000,"8600":106500000,"8700":35247200,"8800":462300,"8900":150000,"9000":237900,"9100":343100,"9200":27741,"9300":10763,"9400":69152,"9500":34572,"9600":4504,"9700":129400000,"9710":164900000,"9720":1027900000.0000001,"9800":138100000,"9810":176200000,"9820":1744100000,"9900":4180000000,"10000":55436,"10100":13517400000,"10200":1901700000,"10300":2784900,"10400":179400000,"10410":194300000,"10420":3680600000,"10500":8163000,"10600":1481000000,"10700":27171,"10800":498600000,"10900":550000,"10901":67678,"11000":4204399999.9999995,"11100":3357500000,"11200":1147800000,"11300":2296,"11400":1569900000,"11500":2407800000,"11600":183600,"11700":24764800,"11750":8600000,"11760":11610000,"11800":24816000,"11850":7573700,"11860":9880900,"11900":3660500,"12000":1680800,"12001":174400,"12100":220600,"12200":7034,"12300":54610,"12400":1012800,"12500":18323,"12600":901800000,"12700":34043300,"12800":4798300,"12900":146600,"13000":18361,"13100":147900000,"13200":55223,"13300":3891700000,"13400":16834,"13500":3098500000,"13600":1761700,"13711":446,"13712":253,"13713":177,"13721":427,"13722":215,"13723":144,"13731":40,"13732":20,"13733":13,"13741":892,"13742":505,"13743":349,"13751":583,"13752":289,"13753":194,"13761":1458,"13762":731,"13763":484,"13771":15,"13772":7,"13773":5,"13800":345300000,"13900":1052200000,"14000":10879700000,"14100":1316300000,"14400":179800000,"14600":5045,"14700":93133,"14800":55,"14900":3042000000,"15000":431500000,"15100":86641,"15200":173000,"15300":38555,"15400":2284600000,"15500":3893700000,"15600":576400,"15700":0,"15900":17296,"16000":87982300,"16100":6635800000,"16200":30143,"16300":294600,"16400":12244000000,"16500":270000000,"16600":175100000,"16700":30133,"16800":227700,"16801":92044100,"16900":60249,"17200":557100000,"17210":490500000,"17220":1767500000,"17225":2118100000,"17230":3355300000,"17300":417900000,"17400":421400000,"17500":410500000,"17600":427000000,"17700":417700000,"17800":421100000,"17900":410200000,"18000":426900000,"18100":740300000,"18200":146300000,"18300":30120,"18400":9309,"18500":1507900000,"18600":288400,"18700":72291200000,"18800":120600,"18900":93118,"19000":12998900,"19100":5969200,"19200":3654600,"19300":324200000,"19500":21011900,"19600":424000,"19700":227600,"19800":424600,"19900":226700,"20011":206800,"20012":98050,"20013":64586,"20200":8932,"20300":19134,"20400":13302,"20500":30327000000,"20510":6523800000,"20600":1194200,"20710":145100000,"20711":145100000,"20800":1139700000,"20900":1271800000,"21000":229300000,"21100":2266600000,"21200":2534300000,"21300":1172200000,"21400":662900000,"21500":31437,"21600":219900,"21700":215600,"21800":215800,"22000":227800,"22001":91917800,"22100":663,"22200":439500000,"22300":1293700000,"22301":1292400000,"22400":130400,"22500":241500000,"22600":65880,"22700":34,"23001":292100000,"23002":174400000,"23003":126700000,"23100":854900,"23200":424400,"99999":18595900000},

			gpus: {
		      "g3s.xlarge": 1,
		      "g3.4xlarge": 1,
		      "g3.8xlarge": 2,
		      "g3.16xlarge": 4,
		      "p2.xlarge": 1,
		      "p2.8xlarge": 8,
		      "p2.16xlarge": 16,
		      "p3.2xlarge": 1,
		      "p3.8xlarge": 4,
		      "p3.16xlarge": 8
		    },

		    vcpus: {
		      "g3.4xlarge": 16,
		      "g3.8xlarge": 32,
		      "g3.16xlarge": 64,
		      "p2.xlarge": 4,
		      "p2.8xlarge": 32,
		      "p2.16xlarge": 64,
		      "p3.2xlarge": 8,
		      "p3.8xlarge": 32,
		      "p3.16xlarge": 64
		    },

			pricing: new AWS.Pricing({
				apiVersion: '2017-10-15',
				region: 'us-east-1'
			}),

			ec2e1: new AWS.EC2({
				apiVersion: '2016-11-15',
				region: 'us-east-1'
			}),

			ec2e2: new AWS.EC2({
				apiVersion: '2016-11-15',
				region: 'us-east-2'
			}),

			ec2w1: new AWS.EC2({
				apiVersion: '2016-11-15',
				region: 'us-west-1'
			}),

			ec2w2: new AWS.EC2({
				apiVersion: '2016-11-15',
				region: 'us-west-2'
			}),

			spotPrice: {},
			spotPriceHistory: {
				"us-west-1": {},
				"us-west-2": {},
				"us-east-1": {},
				"us-east-2": {}
			},
			getSpotPriceHistory: function (instanceType, forceRegion) {
				var self = this;

				/*
				if (typeof self.spotPrice[instanceType] != "undefined") {
					return self.spotPrice[instanceType];
				}
				*/

				var regions = [];
				switch (forceRegion) {
					case "us-west-1":
						regions.push(self.ec2w1);
					break;

					case "us-west-2":
						regions.push(self.ec2w2);
					break;

					case "us-east-1":
						regions.push(self.ec2e1);
					break;

					case "us-east-2":
						// regions.push(self.ec2e2);
						alert('us-east-2 is currently not supported by NVidia');
					break;

					default:
						regions = [
							self.ec2w1,
							self.ec2w2,
							self.ec2e1,
							//self.ec2e2
						];
					break;
				}
				
				var promises = [];

				regions.forEach(function (e) {
					promises.push(new Promise(function(resolve, reject) {
						if (typeof self.spotPriceHistory[e.config.region][instanceType] != "undefined") {
							resolve(self.spotPriceHistory[e.config.region][instanceType]);
						}
						e.describeSpotPriceHistory({
							StartTime: Math.round(Date.now() / 1000),
							EndTime: Math.round(Date.now() / 1000),
							InstanceTypes: [
								instanceType
							],
							ProductDescriptions: [
								"Linux/UNIX (Amazon VPC)"
							]
						}, function (err, data) {
							if (err) {
								reject(err);
							}

							self.spotPriceHistory[e.config.region][instanceType] = data;
							resolve(data);
						});
					}));
				});

				return Promise.all(promises).then((data) => {
					var results = {
						cheapestRegion: '',
						price: null
					};

					Object.keys(data).forEach(function(e) {
						Object.keys(data[e].SpotPriceHistory).forEach(function(i) {
							var item = data[e].SpotPriceHistory[i];

							if (parseFloat(item.SpotPrice) < results.price || results.price == null) {
								results = {
									cheapestRegion: item.AvailabilityZone,
									price: parseFloat(item.SpotPrice),
									instanceType: instanceType
								};
							}
						});
					});

					self.spotPrice[instanceType] = results;
					return results;

				}).catch((err) => {
					// console.trace(err);
					return new Error(err);
				});
			},

			getServices: function () {
				var self = this;

				return new Promise(function(resolve, reject) {
					
					self.pricing.describeServices({
							FormatVersion: "aws_v1", 
							MaxResults: 1, 
							ServiceCode: "AmazonEC2"
						}, function (err, data) {
							if (err) {
								console.trace(new Error(err));
								reject(err);
							}

							console.log(data);
							resolve(data);
						});
				});
			},

			getAttributes: function (attr) {
				var self = this;

				return new Promise(function(resolve, reject) {
					self.pricing.getAttributeValues({
							AttributeName: attr, // "gpu"
							MaxResults: 100, 
							ServiceCode: "AmazonEC2"
						}, function (err, data) {
							if (err) {
								console.trace(new Error(err));
								reject(err);
							}

							console.log(data);
							resolve(data);
						});
				});
			},

			getPricing: function () {
				var self = this;

				return new Promise(function(resolve, reject) {
					self.pricing.getProducts({
						Filters: [{
							Field: "instanceFamily", 
							Type: "TERM_MATCH", 
							Value: "GPU instance"
						}, {
							Field: "operatingSystem",
							Type: "TERM_MATCH",
							Value: "Linux"

						}], 
						FormatVersion: "aws_v1", 
						MaxResults: 100,
						ServiceCode: "AmazonEC2"
					}, function (err, data) {
						if (err) {
							console.trace(new Error(err));
							reject(err);
						}

						console.log(data);
						resolve(data);
					});
				});
			},
		};
	}]);
